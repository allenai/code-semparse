SELECT start_table.point_in_time AS suggested_starts_at, datetime(start_table.point_in_time, :param_1 || CAST(:param_2 AS VARCHAR) || :param_3) AS suggested_ends_at, :suggested_duration AS suggested_duration, date(start_table.point_in_time) IN (SELECT holiday.date
FROM holiday) AS in_holiday, (time(start_table.point_in_time) < time(:time_1) OR time(start_table.point_in_time) > time(:time_2) OR CAST(strftime(:strftime_1, start_table.point_in_time) AS INTEGER) < :param_4 OR CAST(strftime(:strftime_1, start_table.point_in_time) AS INTEGER) > :param_5) AS in_off_hours, :bad_for_subject AS bad_for_subject, (SELECT count(DISTINCT event_has_attendee.recipient_id) AS count
FROM event_has_attendee JOIN event ON event.id = event_has_attendee.event_id
WHERE event_has_attendee.recipient_id IN (__[POSTCOMPILE_recipient_id_1]) AND ((event.starts_at <= start_table.point_in_time AND start_table.point_in_time < event.ends_at) OR (event.starts_at < datetime(start_table.point_in_time, :param_1 || CAST(:param_2 AS VARCHAR) || :param_3) AND datetime(start_table.point_in_time, :param_1 || CAST(:param_2 AS VARCHAR) || :param_3) <= event.ends_at) OR (start_table.point_in_time <= event.starts_at AND event.starts_at < datetime(start_table.point_in_time, :param_1 || CAST(:param_2 AS VARCHAR) || :param_3)) OR (start_table.point_in_time < event.ends_at AND event.ends_at <= datetime(start_table.point_in_time, :param_1 || CAST(:param_2 AS VARCHAR) || :param_3)))) AS attendees_clashes
FROM possible_time AS start_table
WHERE datetime(start_table.point_in_time) > datetime(:datetime_1) AND round((julianday(datetime(start_table.point_in_time, :param_1 || CAST(:param_2 AS VARCHAR) || :param_3)) - julianday(start_table.point_in_time)) * :param_6 * :param_7 * :param_8) = :round_1 ORDER BY in_holiday, in_off_hours, bad_for_subject, suggested_starts_at